> [!caution]
>
> # 警告！当前版本为 Alpha 版本，请勿在生产环境使用
>

> **⚠️ 警告**：当前版本为 **Alpha 版本**，**请勿在生产环境使用**。功能已移植完成。当前版本可能存在未知Bug，仅供用户体验。使用中如遇问题，欢迎前往 GitHub Issues 或 QQ 频道 反馈！

v2.0 - Koharu（小鸟游星野） Alpha 6

## 🚀 主要更新

- 新增 **闪抽点击后禁用功能**，新增**点击后禁用时间设置**，支持设置**0-60s**的禁用时间，防止频繁点击

## 💡 功能优化

- 优化 **设置界面内存占用**，新增将完整加载占用从约 1.2GB 降至约 400MB
- 优化 **其他界面内存占用**，新增将总体内存控制在约 400MB 范围
- 优化 **密码安全加固**，将 TOTP/密码验证哈希算法升级为 SHA-512、PBKDF2-SHA512（100000 迭代）及 HMAC-SHA512，提高存储与生成安全性
- 优化 **更新器代码风格**，新增替换弃用标准库用法并提升可维护性
- 优化 **闪抽动画关闭提示**，新增在动画结束后同时显示“x秒后关闭”和“连续点击3下关闭”
- 优化 **配置查看窗口**，新增去除关闭按钮
- 优化 **语音重试机制**，针对不同错误类型设置差异化重试间隔，提升成功率
- 优化 **界面显示逻辑**，新增根据**验证配置**动态控制U盘验证组件的可见性
- 优化 **界面同步机制**，确保**设置更改**后界面正确反映实际配置状态

## 🐛 修复问题

- 修复 **构建 deb 包**，新增修正文件名相关问题并提升打包稳定性
- 修复 **Changelog 镜像源文件名**，新增解决文件名异常问题
- 修复 **更新器**，新增修复临时脚本文件泄露、Windows 路径处理、竞态条件、根目录验证缺失等 10 项问题
- 修复 **无法导入CSES通用课表格式问题**，新增修复导入CSES文件时，文件内数据格式错误导致的解析异常问题
- 修复 **闪抽无法保存历史记录问题**，修复在闪抽模式下，无法保存历史记录的问题
- 修复 **语言播放速度范围错误**，修复在设置中调整播放速度时，导致的范围最大值错误问题
- 修复 **无法设置名单**，修复在设置中设置名单中某数据时，由于下拉框选项无法写入导致的设置班级错误问题
- 修复 **“图标”“箭头”收纳样式无法使用问题**，修复在设置中选择“图标”“箭头”收纳样式时，无法正常使用的问题
- 修复 **收纳浮窗拖拽**，限制**收纳浮窗只能在y轴移动**，**x轴位置固定**，不会因拖拽或超出屏幕而改变
- 修复 **Edge TTS语音生成**，优化NoAudioReceived错误处理
- 修复 **语音缓存系统**，新增WebSocketError异常处理增强连接稳定性
- 修复 **Edge TTS库版本**，升级到最新版本 7.2.7，解决无法生成语音的问题
- 修复 **Windows平台文件隐藏功能**，新增**返回值检查**和**错误码记录**功能
- 修复 **U盘绑定功能**，新增对**Windows API调用**的错误处理和异常捕获机制
- 修复 **ComboBox数据获取**，优化当`currentData()`返回None时从显示文本中提取**盘符信息**的后备方案
- 修复 **文件写入权限**，新增使用**临时文件**策略避免secrets.json写入时的权限拒绝问题
- 修复 **U盘验证布局**，优化仅在需要**U盘验证**时才显示相关控件（状态标签和刷新按钮）
- 修复 **安全验证流程**，新增验证通过后**刷新下拉框**显示状态的功能

## 🔧 其它变更

- 去除 **即抽** 功能

---

💝 **感谢所有贡献者为 SecRandom 项目付出的努力！**
我们坚持 **便捷、迅速、公平、透明** 的理念，让校园及更多场景的点名、抽奖、决策更安心。欢迎大家试用 Alpha 版，并踊跃反馈问题与建议，一起打磨更好的 SecRandom!

<!--
在更新此CHANGELOG.md文件时，请遵循以下格式：
- 使用"新增/优化/修复" + "功能名称" + "更新内容"的格式
- 示例："新增 更新通知弹窗，新增"今日不再提醒"功能"
- 示例："优化 课间禁用功能，新增在点名、抽奖的"开始"按钮点击后显示禁用状态提示"
- 示例："修复 DPI缩放问题，新增修复界面字体大小异常和界面比例失调问题"
- 注意：保持文本内容简洁明了，避免冗余描述
- 注意：适当加粗部分内容，如功能名称、关键特性等，使用**加粗文本**格式
保持格式一致性，确保每个更新条目都遵循这一模式。
-->
